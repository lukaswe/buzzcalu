<!doctype html>
<html>
<head>
    <title>Socket.IO chat</title>
    <style>
        
    </style>
    
<!--<script src="/jquery/dist/jquery.js" type="text/javascript"></script>-->
</head>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
    $(function () {
        var socket = io();
        socket.on('chat message', function(msg){
            if (msg == $('#m').val())
                $('#buzz-text').text("Gl√ºckwunsch, Du bist dran!");
            else
                $('#buzz-text').text("Zu Langsam, " + msg + " ist dran!");
        });
    });
    function send_buzz() {
        var socket = io();
        socket.emit('chat message', $('#m').val());
            return false;
        };
</script>
<script>
    function save_name() {
        document.getElementById("m").disabled = true;
        document.getElementById("savename").disabled = true;
        document.getElementById("buzz-div").style = "visibility:visible;";
        document.getElementById("name-div").style = "visibility:hidden;";
        $('#buzz-text').text("Sei bereit, " + $('#m').val() + "!");
        };
</script>
<body>
    <div id="name-div">
    <h1 id="name-header">Bitte Namen eingeben</h1>
    <input id="m" autocomplete="off" /><br>
    <button type = "button" id = "savename" onclick="save_name()">Save Name</button>
    </div>
    <br><br>
    <div id="buzz-div" style="visibility:hidden;">
    <h1 id="buzz-text">Be Ready ###</h1>
    <button type = "button"
            onclick="send_buzz()"
            id="buzzer">
            Buzz!
            </button><br>
    </div>
</body>
</html>
